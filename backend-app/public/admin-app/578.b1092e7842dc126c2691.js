(self.webpackChunkadmin_app=self.webpackChunkadmin_app||[]).push([[578],{8578:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AdminModule:()=>At});var i=n(1116),o=n(3337),a=n(5609),r=n(9199),s=function(t){return t[t.CREATING=1]="CREATING",t[t.UPDATING=2]="UPDATING",t[t.READONLY=3]="READONLY",t}({}),c=n(9796),l=n(1041),u=n(2935),g=n(5366),d=n(529),m=n(2693);let p=(()=>{class t{constructor(t){this.http=t,this.images=[{name:"elephant",url:"https://res.cloudinary.com/devemg/image/upload/v1621289170/randomAQ/category-icons/022-elephant_qzrskn.png",id:"1"},{name:"heart",url:"https://res.cloudinary.com/devemg/image/upload/v1621289170/randomAQ/category-icons/021-heart_yu2e8e.png",id:"2"},{name:"crab",url:"https://res.cloudinary.com/devemg/image/upload/v1621289170/randomAQ/category-icons/020-crab_nbv3p5.png",id:"3"},{name:"boat",url:"https://res.cloudinary.com/devemg/image/upload/v1621289169/randomAQ/category-icons/019-boat_oai4ed.png",id:"4"},{name:"pig",url:"https://res.cloudinary.com/devemg/image/upload/v1621289168/randomAQ/category-icons/010-pig_k5qkiw.png",id:"5"}]}getAllCategories(){return this.http.get(`${d.N.API_CATEGORIES}`).toPromise()}getCategory(t){return this.http.get(`${d.N.API_CATEGORIES}/${t}`).toPromise()}newCategory(t){return this.http.post(`${d.N.API_CATEGORIES}`,JSON.stringify(t)).toPromise()}updateCategory(t,e){return this.http.put(`${d.N.API_CATEGORIES}`,JSON.stringify(e)).toPromise()}deleteCategory(t){return this.http.delete(`${d.N.API_CATEGORIES}/${t}`).toPromise()}getImages(){return new Promise((t,e)=>{t(this.images)})}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(m.eN))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n(3589),f=n(1269),Z=n(7307),C=n(3070),y=n(9550),_=n(3841),A=n(7064),q=n(4369);function w(t,e){if(1&t&&(g.TgZ(0,"mat-option",14),g.TgZ(1,"div",15),g._UZ(2,"img",16),g._uU(3),g.qZA(),g.qZA()),2&t){const t=e.$implicit;g.Q6J("value",t.id),g.xp6(2),g.s9C("alt",t.name),g.Q6J("src",t.url,g.LSH),g.xp6(1),g.hij(" ",t.name," ")}}function x(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"mat-form-field",2),g.TgZ(1,"mat-label"),g._uU(2,"Image"),g.qZA(),g.TgZ(3,"mat-select",12),g.NdJ("valueChange",function(e){return g.CHM(t),g.oxw().changeSelectedImage(e)}),g.YNc(4,w,4,4,"mat-option",13),g.qZA(),g.TgZ(5,"mat-error"),g._uU(6,"Image is required"),g.qZA(),g.qZA()}if(2&t){const t=g.oxw();g.xp6(4),g.Q6J("ngForOf",t.images)}}function O(t,e){if(1&t&&(g.TgZ(0,"div",17),g.TgZ(1,"mat-label"),g._uU(2,"Current Image"),g.qZA(),g._UZ(3,"img",18),g.qZA()),2&t){const t=g.oxw();g.xp6(3),g.Q6J("src",t.image,g.LSH)}}function T(t,e){1&t&&(g.TgZ(0,"button",19),g._uU(1,"Cancel"),g.qZA())}function b(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"button",20),g.NdJ("click",function(){return g.CHM(t),g.oxw().update()}),g._uU(1,"Update"),g.qZA()}}function k(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"button",21),g.NdJ("click",function(){return g.CHM(t),g.oxw().save()}),g._uU(1,"Create"),g.qZA()}if(2&t){const t=g.oxw();g.Q6J("disabled",t.categoryForm.invalid)}}let v=(()=>{class t{constructor(t,e,n,i,o,a,r){this.formBuilder=t,this.catService=e,this.data=n,this.matDialgoRef=i,this.matSnackBar=o,this.router=a,this.spinner=r,this.title="New Category",this.images=[],this.status=s.CREATING,this.image="",this.categoryForm=this.formBuilder.group({id:[],name:["",l.kI.required],description:["",l.kI.required],image:["",l.kI.required]})}ngOnInit(){this.status=null!=this.data?this.data.status:s.CREATING,this.status!=s.READONLY&&this.catService.getImages().then(t=>{this.images=t}).catch(t=>console.log(t)),this.status!=s.CREATING&&(this.categoryForm.patchValue(Object.assign({},this.data.category)),this.image=this.data.category.image),this.updateTitle()}updateTitle(){switch(this.status){case s.CREATING:this.title="New Category";break;case s.UPDATING:this.title="Update Category";break;case s.READONLY:this.title="Category"}}changeSelectedImage(t){let e=this.images.find(e=>e.id==t);this.image=e?e.url:""}save(){if(this.categoryForm.valid){this.spinner.show();let t=this.images.find(t=>t.id==this.categoryForm.value.image);this.catService.newCategory(Object.assign(Object.assign({},this.categoryForm.value),{image:t?t.url:""})).then(t=>{this.matDialgoRef.close(!0)}).catch(t=>{c.E.includes(t.status)?this.matSnackBar.open(t.error,"Ok",{duration:3e3}):t.status==c.u.TokenExpiredException?this.router.navigate(["/login"]):this.matSnackBar.open("Cannot create question","Ok",{duration:2e3}),this.matDialgoRef.close(!1)}).finally(()=>{this.spinner.hide()})}}update(){if(this.categoryForm.valid){this.spinner.show();let t=this.images.find(t=>t.id==this.categoryForm.value.image),e=Object.assign(Object.assign({},this.categoryForm.value),{image:t?t.url:this.image});this.catService.updateCategory(this.categoryForm.value.id,e).then(t=>this.matDialgoRef.close(!0)).catch(t=>{c.E.includes(t.status)?this.matSnackBar.open(t.error,"Ok",{duration:3e3}):t.status==c.u.TokenExpiredException?this.router.navigate(["/login"]):this.matSnackBar.open("Cannot update question","Ok",{duration:2e3}),this.matDialgoRef.close(!1)}).finally(()=>{this.spinner.hide()})}}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(l.qu),g.Y36(p),g.Y36(u.WI),g.Y36(u.so),g.Y36(h.ux),g.Y36(o.F0),g.Y36(f.t2))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-single-category"]],decls:24,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","text","placeholder","Name","required","","formControlName","name",3,"readonly"],["rows","4","matInput","","placeholder","Description","formControlName","description",3,"readonly"],["class","full-width","appearance","outline",4,"ngIf"],["class","image-stack",4,"ngIf"],[1,"modal-buttons"],["mat-button","","color","accent","mat-dialog-close","",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click",4,"ngIf"],["type","ball-scale-pulse",3,"fullScreen"],["required","","formControlName","image",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"select-container"],[1,"select-img",3,"src","alt"],[1,"image-stack"],["alt","",3,"src"],["mat-button","","color","accent","mat-dialog-close",""],["mat-raised-button","","color","primary","type","submit",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"]],template:function(t,e){1&t&&(g.TgZ(0,"h1",0),g.TgZ(1,"mat-icon"),g._uU(2,"category"),g.qZA(),g._uU(3),g.qZA(),g.TgZ(4,"mat-dialog-content"),g.TgZ(5,"form",1),g.TgZ(6,"mat-form-field",2),g.TgZ(7,"mat-label"),g._uU(8,"Name "),g.qZA(),g._UZ(9,"input",3),g.TgZ(10,"mat-error"),g._uU(11,"Name is required"),g.qZA(),g.qZA(),g.TgZ(12,"mat-form-field",2),g.TgZ(13,"mat-label"),g._uU(14,"Description "),g.qZA(),g.TgZ(15,"textarea",4),g._uU(16," "),g.qZA(),g.qZA(),g.YNc(17,x,7,1,"mat-form-field",5),g.YNc(18,O,4,1,"div",6),g.qZA(),g.qZA(),g.TgZ(19,"mat-dialog-actions",7),g.YNc(20,T,2,0,"button",8),g.YNc(21,b,2,0,"button",9),g.YNc(22,k,2,1,"button",10),g.qZA(),g._UZ(23,"ngx-spinner",11)),2&t&&(g.xp6(3),g.hij(" ",e.title,""),g.xp6(2),g.Q6J("formGroup",e.categoryForm),g.xp6(4),g.Q6J("readonly",3==e.status),g.xp6(6),g.Q6J("readonly",3==e.status),g.xp6(2),g.Q6J("ngIf",3!=e.status),g.xp6(1),g.Q6J("ngIf",""!=e.image),g.xp6(2),g.Q6J("ngIf",3!=e.status),g.xp6(1),g.Q6J("ngIf",2==e.status),g.xp6(1),g.Q6J("ngIf",1==e.status),g.xp6(1),g.Q6J("fullScreen",!1))},directives:[u.uh,Z.Hw,u.xY,l._Y,l.JL,l.sg,C.KE,C.hX,y.Nt,l.Fj,l.Q7,l.JJ,l.u,C.TO,i.O5,u.H8,f.Ro,_.gD,i.sg,A.ey,q.lW,u.ZT],styles:[".select-img[_ngcontent-%COMP%]{width:40px;height:40px;padding-right:10px}.select-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.image-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column}.image-stack[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:grey;padding-bottom:5px}.image-stack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}"]}),t})();var N=n(4311),P=n(7672);let M=(()=>{class t{transform(t){return t.length>200?t.slice(0,200)+"...":t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=g.Yjl({name:"shortDescription",type:t,pure:!0}),t})();function Q(t,e){1&t&&(g.TgZ(0,"div",6),g._UZ(1,"mat-progress-spinner",7),g.qZA())}function U(t,e){1&t&&(g.TgZ(0,"th",19),g._uU(1," Name "),g.qZA())}function I(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"td",20),g.TgZ(1,"a",21),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw(2).seeCategory(e)}),g._uU(2),g.qZA(),g.qZA()}if(2&t){const t=e.$implicit;g.xp6(2),g.Oqu(t.name)}}function D(t,e){1&t&&(g.TgZ(0,"th",19),g._uU(1," Image "),g.qZA())}function Y(t,e){if(1&t&&(g.TgZ(0,"td",20),g._UZ(1,"img",22),g.qZA()),2&t){const t=e.$implicit;g.xp6(1),g.Q6J("src",t.image,g.LSH)}}function S(t,e){1&t&&(g.TgZ(0,"th",19),g._uU(1," Description "),g.qZA())}function J(t,e){if(1&t&&(g.TgZ(0,"td",23),g._uU(1),g.ALo(2,"shortDescription"),g.qZA()),2&t){const t=e.$implicit;g.xp6(1),g.hij(" ",g.lcZ(2,1,t.description)," ")}}function E(t,e){1&t&&(g.TgZ(0,"th",19),g._uU(1," Options "),g.qZA())}function F(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"td",24),g.TgZ(1,"div",25),g.TgZ(2,"button",26),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw(2).updateCategory(e)}),g.TgZ(3,"mat-icon"),g._uU(4,"mode_edit"),g.qZA(),g.qZA(),g.TgZ(5,"button",27),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw(2).deleteCategory(e.id)}),g.TgZ(6,"mat-icon"),g._uU(7,"delete"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}}function R(t,e){1&t&&g._UZ(0,"tr",28)}function B(t,e){1&t&&g._UZ(0,"tr",29)}function G(t,e){if(1&t&&(g.TgZ(0,"table",8),g.ynx(1,9),g.YNc(2,U,2,0,"th",10),g.YNc(3,I,3,1,"td",11),g.BQk(),g.ynx(4,12),g.YNc(5,D,2,0,"th",10),g.YNc(6,Y,2,1,"td",11),g.BQk(),g.ynx(7,13),g.YNc(8,S,2,0,"th",10),g.YNc(9,J,3,3,"td",14),g.BQk(),g.ynx(10,15),g.YNc(11,E,2,0,"th",10),g.YNc(12,F,8,0,"td",16),g.BQk(),g.YNc(13,R,1,0,"tr",17),g.YNc(14,B,1,0,"tr",18),g.qZA()),2&t){const t=g.oxw();g.Q6J("dataSource",t.datasource),g.xp6(13),g.Q6J("matHeaderRowDef",t.displayedColumns),g.xp6(1),g.Q6J("matRowDefColumns",t.displayedColumns)}}const H=function(){return[5,10,25,100]};let j=(()=>{class t{constructor(t,e,n,i){this.catService=t,this.matDialog=e,this.snackBar=n,this.router=i,this.displayedColumns=["name","image","description","options"],this.datasource=new r.by,this.loading=!1}ngOnInit(){this.loadDatasource()}loadDatasource(){this.loading=!0,this.catService.getAllCategories().then(t=>{this.datasource=new r.by(t),this.paginator&&(this.datasource.paginator=this.paginator)}).catch(t=>{console.log(t.status),t.status==c.u.TokenExpiredException&&this.router.navigate(["/login"])}).finally(()=>{this.loading=!1})}newCategory(){this.matDialog.open(v,{width:"60%"}).afterClosed().subscribe(t=>{t&&(this.snackBar.open("Category created!","Ok",{duration:2e3}),this.loadDatasource())})}updateCategory(t){this.matDialog.open(v,{width:"60%",data:{status:s.UPDATING,category:t}}).afterClosed().subscribe(t=>{t&&(this.snackBar.open("Category updated!","Ok",{duration:2e3}),this.loadDatasource())})}seeCategory(t){this.matDialog.open(v,{width:"60%",data:{status:s.READONLY,category:t}})}deleteCategory(t){this.loading=!0,this.catService.deleteCategory(t).then(t=>{this.snackBar.open("Category deleted!","Ok",{duration:2e3}),this.loadDatasource()}).catch(t=>{c.E.includes(t.status)?this.snackBar.open(t.error,"Ok",{duration:3e3}):t.status==c.u.TokenExpiredException?this.router.navigate(["/login"]):this.snackBar.open("Cannot delete category","Ok",{duration:2e3})}).finally(()=>{this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(p),g.Y36(u.uw),g.Y36(h.ux),g.Y36(o.F0))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-list-categories"]],viewQuery:function(t,e){if(1&t&&g.Gf(a.NW,5),2&t){let t;g.iGM(t=g.CRH())&&(e.paginator=t.first)}},decls:8,vars:4,consts:[[1,"options"],["mat-fab","","color","primary","aria-label","","matTooltip","New Category",3,"click"],[1,"table-responsive"],["style","display: flex; justify-content: center; align-items: center;",4,"ngIf"],["mat-table","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","width: 10%;",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","description"],["mat-cell","",4,"matCellDef"],["matColumnDef","options"],["mat-cell","","style","width: 15%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",2,"width","10%"],[1,"link",3,"click"],["alt","image",1,"image-element",3,"src"],["mat-cell",""],["mat-cell","",2,"width","15%"],[1,"row-buttons"],["mat-icon-button","","color","accent","aria-label","Update Category","matTooltip","Update Category",3,"click"],["mat-icon-button","","color","accent","aria-label","Delete category","matTooltip","Delete Category",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"button",1),g.NdJ("click",function(){return e.newCategory()}),g.TgZ(2,"mat-icon"),g._uU(3,"add"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"div",2),g.YNc(5,Q,2,0,"div",3),g.YNc(6,G,15,3,"table",4),g._UZ(7,"mat-paginator",5),g.qZA()),2&t&&(g.xp6(5),g.Q6J("ngIf",e.loading),g.xp6(1),g.Q6J("ngIf",!e.loading),g.xp6(1),g.Q6J("pageSizeOptions",g.DdM(3,H)))},directives:[q.lW,N.gM,Z.Hw,i.O5,a.NW,P.Ou,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,r.ge,r.ev,r.XQ,r.Gk],pipes:[M],styles:[".options[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding-bottom:1em}.table-responsive[_ngcontent-%COMP%]{width:100%;overflow-y:auto;height:85%}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}tbody[_ngcontent-%COMP%]{height:100%}.row-buttons[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.image-element[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;width:50px;height:50px}"]}),t})();var L=n(3937),$=n(7112),z=n(168),W=n(667),X=n(2797);let K=(()=>{class t{constructor(t,e){this.router=t,this.authService=e}ngOnInit(){}logout(){this.authService.logout().finally(()=>{this.router.navigate(["/"])})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(o.F0),g.Y36(L.e))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-home"]],decls:41,vars:1,consts:[[1,"container-all","gradient"],[1,"menu"],["src","assets/img/title-white.svg","alt","randomAQ",1,"image"],[1,"right-menu"],["routerLink","/admin/categories"],["routerLink","/admin/questions"],[1,"clickable",3,"click"],[1,"menu-mobile",3,"click"],[1,"drawer-container",3,"hasBackdrop"],["mode","over",1,"drawer-mobile"],["drawer",""],["mat-list-item","","routerLink","/admin/categories",3,"click"],["mat-list-item","","routerLink","/admin/questions",3,"click"],["mat-list-item","",3,"click"],[1,"card"]],template:function(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",0),g.TgZ(1,"mat-toolbar",1),g._UZ(2,"img",2),g.TgZ(3,"ul",3),g.TgZ(4,"li"),g.TgZ(5,"a",4),g.TgZ(6,"mat-icon"),g._uU(7,"category"),g.qZA(),g._uU(8,"Categories"),g.qZA(),g.qZA(),g.TgZ(9,"li"),g.TgZ(10,"a",5),g.TgZ(11,"mat-icon"),g._uU(12,"help"),g.qZA(),g._uU(13,"Questions"),g.qZA(),g.qZA(),g.TgZ(14,"li"),g.TgZ(15,"a",6),g.NdJ("click",function(){return e.logout()}),g.TgZ(16,"mat-icon"),g._uU(17,"logout"),g.qZA(),g._uU(18,"Exit"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"a",7),g.NdJ("click",function(){return g.CHM(t),g.MAs(24).toggle()}),g.TgZ(20,"mat-icon"),g._uU(21,"menu"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"mat-drawer-container",8),g.TgZ(23,"mat-drawer",9,10),g.TgZ(25,"mat-nav-list"),g.TgZ(26,"a",11),g.NdJ("click",function(){return g.CHM(t),g.MAs(24).close()}),g.TgZ(27,"mat-icon"),g._uU(28,"category"),g.qZA(),g._uU(29,"Categories"),g.qZA(),g.TgZ(30,"a",12),g.NdJ("click",function(){return g.CHM(t),g.MAs(24).close()}),g.TgZ(31,"mat-icon"),g._uU(32,"help"),g.qZA(),g._uU(33,"Questions"),g.qZA(),g.TgZ(34,"a",13),g.NdJ("click",function(){return e.logout()}),g.TgZ(35,"mat-icon"),g._uU(36,"logout"),g.qZA(),g._uU(37,"Exit"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(38,"mat-drawer-content"),g.TgZ(39,"mat-card",14),g._UZ(40,"router-outlet"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}2&t&&(g.xp6(22),g.Q6J("hasBackdrop",!0))},directives:[$.Ye,o.yS,Z.Hw,z.kh,z.jA,W.Hk,W.Tg,z.LW,X.a8,o.lC],styles:[".menu[_ngcontent-%COMP%]{background-color:initial;display:flex;flex-direction:row;justify-content:space-between;height:10vh}.menu[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:15%}.menu[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 4px 4px black);cursor:pointer}.menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.menu[_ngcontent-%COMP%]   .menu-mobile[_ngcontent-%COMP%]{display:none;padding-right:5px}.menu[_ngcontent-%COMP%]   .menu-mobile[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:35px;width:35px;height:35px}.drawer-container[_ngcontent-%COMP%]{width:100%;height:90vh;background-color:initial}.drawer-mobile[_ngcontent-%COMP%]{width:100%;background-color:#000000ba}.drawer-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:lighter;font-size:20px;padding-top:10px;padding-bottom:10px}.drawer-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:5px}.drawer-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff14}mat-drawer-content[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;align-items:flex-start}.right-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;list-style:none}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 20px;margin:0}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-weight:lighter;font-size:20px}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:5px}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 4px 4px black)}mat-drawer-content[_ngcontent-%COMP%]{align-items:center}.card[_ngcontent-%COMP%]{width:90%;height:85%}@media only screen and (max-width:768px){.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:17px}.menu[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:20%}}@media only screen and (max-width:665px){.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:15px}.menu[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:575px){.right-menu[_ngcontent-%COMP%]{display:none}.menu[_ngcontent-%COMP%]   .menu-mobile[_ngcontent-%COMP%]{display:block}.menu[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:35%}}@media only screen and (max-width:425px){.menu[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:50%}}"]}),t})(),V=(()=>{class t{constructor(t){this.http=t}getAllQuestions(){return this.http.get(`${d.N.API_QUESTIONS}`).toPromise()}getQuestion(t){return this.http.get(`${d.N.API_QUESTIONS}/${t}`).toPromise()}saveQuestion(t){return this.http.post(`${d.N.API_QUESTIONS}`,JSON.stringify(t)).toPromise()}updateQuestion(t,e){return this.http.put(`${d.N.API_QUESTIONS}`,JSON.stringify(e)).toPromise()}deleteQuestion(t){return this.http.delete(`${d.N.API_QUESTIONS}/${t}`).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(m.eN))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tt(t,e){if(1&t&&(g.TgZ(0,"mat-option",12),g._uU(1),g.qZA()),2&t){const t=e.$implicit;g.Q6J("value",t.id),g.xp6(1),g.hij(" ",t.name," ")}}function et(t,e){1&t&&(g.TgZ(0,"button",13),g._uU(1,"Cancel"),g.qZA())}function nt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"button",14),g.NdJ("click",function(){return g.CHM(t),g.oxw().update()}),g._uU(1,"Update"),g.qZA()}}function it(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"button",15),g.NdJ("click",function(){return g.CHM(t),g.oxw().save()}),g._uU(1,"Create"),g.qZA()}if(2&t){const t=g.oxw();g.Q6J("disabled",t.qForm.invalid)}}let ot=(()=>{class t{constructor(t,e,n,i,o,a,r,c){this.data=t,this.formBuilder=e,this.qService=n,this.catService=i,this.matDialogRef=o,this.matSnackBar=a,this.router=r,this.spinner=c,this.title="New Question",this.status=s.CREATING,this.categoriesList=[],this.qForm=this.formBuilder.group({id:[],content:["",l.kI.required],answer:["",l.kI.required],questionCategoryId:["",l.kI.required]})}ngOnInit(){null!=this.data?(this.status=this.data.status,this.qForm.patchValue(Object.assign(Object.assign({},this.data.question),{questionCategoryId:this.data.question.questionCategoryId}))):this.status=s.CREATING,3!=this.status?this.catService.getAllCategories().then(t=>{this.categoriesList=t}).catch(t=>console.log(t)):this.categoriesList=this.data.question.category?[this.data.question.category]:[],this.updateTitle()}updateTitle(){switch(this.status){case s.CREATING:this.title="New Question";break;case s.UPDATING:this.title="Update Question";break;case s.READONLY:this.title="Question"}}save(){this.qForm.valid&&(this.spinner.show(),this.qService.saveQuestion(this.qForm.value).then(t=>{this.matDialogRef.close(!0)}).catch(t=>{c.E.includes(t.status)?this.matSnackBar.open(t.error,"Ok",{duration:3e3}):t.status==c.u.TokenExpiredException?this.router.navigate(["/login"]):this.matSnackBar.open("Cannot save question","Ok",{duration:2e3}),this.matDialogRef.close(!1)}).finally(()=>{this.spinner.hide()}))}update(){this.qForm.valid&&(this.spinner.show(),this.qService.updateQuestion(this.qForm.value.id,this.qForm.value).then(t=>this.matDialogRef.close(!0)).catch(t=>{c.E.includes(t.status)?this.matSnackBar.open(t.error,"Ok",{duration:3e3}):t.status==c.u.TokenExpiredException?this.router.navigate(["/login"]):this.matSnackBar.open("Cannot update question","Ok",{duration:2e3}),this.matDialogRef.close(!1)}).finally(()=>{this.spinner.hide()}))}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(u.WI),g.Y36(l.qu),g.Y36(V),g.Y36(p),g.Y36(u.so),g.Y36(h.ux),g.Y36(o.F0),g.Y36(f.t2))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-single-question"]],decls:29,vars:9,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","text","placeholder","Question","required","","formControlName","content",3,"readonly"],["rows","4","matInput","","placeholder","Answer","formControlName","answer",3,"readonly"],["required","","formControlName","questionCategoryId","name","questionCategoryId"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-buttons"],["mat-button","","color","accent","mat-dialog-close","",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click",4,"ngIf"],["type","ball-scale-pulse",3,"fullScreen"],[3,"value"],["mat-button","","color","accent","mat-dialog-close",""],["mat-raised-button","","color","primary","type","submit",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"]],template:function(t,e){1&t&&(g.TgZ(0,"h1",0),g.TgZ(1,"mat-icon"),g._uU(2,"help_outline"),g.qZA(),g._uU(3),g.qZA(),g.TgZ(4,"mat-dialog-content"),g.TgZ(5,"form",1),g.TgZ(6,"mat-form-field",2),g.TgZ(7,"mat-label"),g._uU(8,"Question "),g.qZA(),g._UZ(9,"input",3),g.TgZ(10,"mat-error"),g._uU(11,"Question is required"),g.qZA(),g.qZA(),g.TgZ(12,"mat-form-field",2),g.TgZ(13,"mat-label"),g._uU(14,"Answer "),g.qZA(),g.TgZ(15,"textarea",4),g._uU(16," "),g.qZA(),g.qZA(),g.TgZ(17,"mat-form-field",2),g.TgZ(18,"mat-label"),g._uU(19,"Category"),g.qZA(),g.TgZ(20,"mat-select",5),g.YNc(21,tt,2,2,"mat-option",6),g.qZA(),g.TgZ(22,"mat-error"),g._uU(23,"Category is required"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"mat-dialog-actions",7),g.YNc(25,et,2,0,"button",8),g.YNc(26,nt,2,0,"button",9),g.YNc(27,it,2,1,"button",10),g.qZA(),g._UZ(28,"ngx-spinner",11)),2&t&&(g.xp6(3),g.hij(" ",e.title,""),g.xp6(2),g.Q6J("formGroup",e.qForm),g.xp6(4),g.Q6J("readonly",3==e.status),g.xp6(6),g.Q6J("readonly",3==e.status),g.xp6(6),g.Q6J("ngForOf",e.categoriesList),g.xp6(4),g.Q6J("ngIf",3!=e.status),g.xp6(1),g.Q6J("ngIf",2==e.status),g.xp6(1),g.Q6J("ngIf",1==e.status),g.xp6(1),g.Q6J("fullScreen",!1))},directives:[u.uh,Z.Hw,u.xY,l._Y,l.JL,l.sg,C.KE,C.hX,y.Nt,l.Fj,l.Q7,l.JJ,l.u,C.TO,_.gD,i.sg,u.H8,i.O5,f.Ro,A.ey,q.lW,u.ZT],styles:[""]}),t})();function at(t,e){1&t&&(g.TgZ(0,"div",14),g._UZ(1,"mat-progress-spinner",15),g.qZA())}function rt(t,e){1&t&&(g.TgZ(0,"th",16),g._uU(1," Question "),g.qZA())}function st(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"td",17),g.TgZ(1,"a",18),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw().seeQuestion(e)}),g._uU(2),g.qZA(),g.qZA()}if(2&t){const t=e.$implicit;g.xp6(2),g.Oqu(t.content)}}function ct(t,e){1&t&&(g.TgZ(0,"th",16),g._uU(1," Category "),g.qZA())}function lt(t,e){if(1&t&&(g.TgZ(0,"td",17),g._uU(1),g.qZA()),2&t){const t=e.$implicit;g.xp6(1),g.hij(" ",(null==t.category?null:t.category.name)||""," ")}}function ut(t,e){1&t&&(g.TgZ(0,"th",16),g._uU(1," Options "),g.qZA())}function gt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"td",19),g.TgZ(1,"div",20),g.TgZ(2,"button",21),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw().updateQuestion(e)}),g.TgZ(3,"mat-icon"),g._uU(4,"mode_edit"),g.qZA(),g.qZA(),g.TgZ(5,"button",22),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw().deleteQuestion(e.id)}),g.TgZ(6,"mat-icon"),g._uU(7,"delete"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}}function dt(t,e){1&t&&g._UZ(0,"tr",23)}function mt(t,e){1&t&&g._UZ(0,"tr",24)}const pt=function(){return[5,10,25,100]};let ht=(()=>{class t{constructor(t,e,n,i){this.qService=t,this.matDialog=e,this.snackBar=n,this.router=i,this.displayedColumns=["content","category","options"],this.datasource=new r.by,this.loading=!1}ngOnInit(){this.loadDatasource()}loadDatasource(){this.loading=!0,this.qService.getAllQuestions().then(t=>{this.datasource=new r.by(t),this.paginator&&(this.datasource.paginator=this.paginator)}).catch(t=>console.log(t)).finally(()=>{this.loading=!1})}newQuestion(){this.matDialog.open(ot,{width:"60%"}).afterClosed().subscribe(t=>{t&&(this.snackBar.open("Question created!","Ok",{duration:2e3}),this.loadDatasource())})}seeQuestion(t){this.matDialog.open(ot,{width:"60%",data:{status:s.READONLY,question:t}})}updateQuestion(t){this.matDialog.open(ot,{width:"60%",data:{status:s.UPDATING,question:t}}).afterClosed().subscribe(t=>{t&&(this.snackBar.open("Question updated!","Ok",{duration:2e3}),this.loadDatasource())})}deleteQuestion(t){this.loading=!0,this.qService.deleteQuestion(t).then(t=>{t&&(this.snackBar.open("Question deleted!","Ok",{duration:2e3}),this.loadDatasource())}).catch(t=>{c.E.includes(t.status)?this.snackBar.open(t.error,"Ok",{duration:3e3}):t.status==c.u.TokenExpiredException?this.router.navigate(["/login"]):this.snackBar.open("Cannot delete question","Ok",{duration:2e3})}).finally(()=>{this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(V),g.Y36(u.uw),g.Y36(h.ux),g.Y36(o.F0))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-list-questions"]],viewQuery:function(t,e){if(1&t&&g.Gf(a.NW,5),2&t){let t;g.iGM(t=g.CRH())&&(e.paginator=t.first)}},decls:19,vars:6,consts:[[1,"options"],["mat-fab","","color","primary","aria-label","","matTooltip","New Question",3,"click"],[1,"table-responsive"],["style","display: flex; justify-content: center; align-items: center;",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","content"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","options"],["mat-cell","","style","width: 15%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"],["mat-header-cell",""],["mat-cell",""],[1,"link",3,"click"],["mat-cell","",2,"width","15%"],[1,"row-buttons"],["mat-icon-button","","color","accent","aria-label","Update Question","matTooltip","Update Question",3,"click"],["mat-icon-button","","color","accent","aria-label","Delete Question","matTooltip","Delete Question",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"button",1),g.NdJ("click",function(){return e.newQuestion()}),g.TgZ(2,"mat-icon"),g._uU(3,"add"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"div",2),g.YNc(5,at,2,0,"div",3),g.TgZ(6,"table",4),g.ynx(7,5),g.YNc(8,rt,2,0,"th",6),g.YNc(9,st,3,1,"td",7),g.BQk(),g.ynx(10,8),g.YNc(11,ct,2,0,"th",6),g.YNc(12,lt,2,1,"td",7),g.BQk(),g.ynx(13,9),g.YNc(14,ut,2,0,"th",6),g.YNc(15,gt,8,0,"td",10),g.BQk(),g.YNc(16,dt,1,0,"tr",11),g.YNc(17,mt,1,0,"tr",12),g.qZA(),g._UZ(18,"mat-paginator",13),g.qZA()),2&t&&(g.xp6(5),g.Q6J("ngIf",e.loading),g.xp6(1),g.Q6J("dataSource",e.datasource),g.xp6(10),g.Q6J("matHeaderRowDef",e.displayedColumns),g.xp6(1),g.Q6J("matRowDefColumns",e.displayedColumns),g.xp6(1),g.Q6J("pageSizeOptions",g.DdM(5,pt)))},directives:[q.lW,N.gM,Z.Hw,i.O5,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,a.NW,P.Ou,r.ge,r.ev,r.XQ,r.Gk],styles:[".options[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding-bottom:1em}.table-responsive[_ngcontent-%COMP%]{width:100%;overflow-y:auto;height:85%}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}tbody[_ngcontent-%COMP%]{height:100%}.row-buttons[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.image-element[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;width:50px;height:50px}"]}),t})();var ft=n(6484);const Zt=[{path:"",component:K,canActivate:[(()=>{class t{constructor(t,e){this.localService=t,this.router=e}canActivate(t,e){return!!this.localService.isAuth()||(this.router.navigate(["/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(ft.n),g.LFG(o.F0))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],children:[{path:"",component:ht},{path:"categories",component:j},{path:"questions",component:ht}]}];let Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[o.Bz.forChild(Zt)],o.Bz]}),t})();var yt=n(3355),_t=n(8494);let At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[i.ez,Ct,yt.E,_t.xu,l.UX,f.ef]]}),t})()}}]);